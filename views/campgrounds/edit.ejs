<% layout('layouts/boilerplate.ejs')%>

<div class="row">  
    <div class="">       
        <div class="card shadow mb-5 col-lg-8 offset-lg-2">
            <h3 class="card-header text-center p-3">Edit Campground</h3>
            <div class="card-body m-lg-4">
                <form action="/campgrounds/<%=campground._id%>?_method=PUT" method="POST" class=" needs-validation" novalidate enctype="multipart/form-data">
                    <div class="mb-3">
                        <label for="title" class="form-label">Title:</label>
                        <input type="text" class="form-control" id= "title" name="campground[title]" value="<%=campground.title%>" required>
                        <div class="valid-feedback">
                            valid!
                        </div>
                        <div class="invalid-feedback">
                            invalid: cannot be empty
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="location" class="form-label">Location:</label>
                        <input type="text" class="form-control" id="location" name="campground[location]" value="<%=campground.location%>" required>
                        <div class="valid-feedback">
                            valid!
                        </div>
                        <div class="invalid-feedback">
                            invalid: cannot be empty
                        </div>
                    </div>
                
                    <label for="price" class="form-label">Price:</label>
                        <div class="input-group mb-3">
                            <span class="input-group-text">$</span>
                            <input type="text" id="price" class="form-control" aria-label="Amount (to the nearest dollar)" name="campground[price]" value="<%=campground.price%>" required>
                            <span class="input-group-text">.00</span>
                            <div class="valid-feedback">
                                valid!
                            </div>
                            <div class="invalid-feedback">
                                invalid: must be a number greater than -1
                            </div>
                        </div>
                
                    <div class="mb-3">
                        <label for="description" class="form-label">Descripton:</label>
                        <textarea class="form-control" id="description" rows="3" name="campground[description]" required><%=campground.description%></textarea>
                        <div class="valid-feedback">
                            valid!
                        </div>
                        <div class="invalid-feedback">
                            invalid: cannot be empty
                        </div>
                    </div>
                
                    <div class="mb-3">
                        <label for="image" class="form-label">Add Image(s)</label>
                        <input class="form-control" type="file" name="image" id="image" multiple>
                    </div>
                
                    <div class="mb-5 ">
                        <% for (let i = 0; i < campground.images.length; i++) { %>
                            <img src="<%=campground.images[i].thumbnail%>" class="img-thumbnail" alt="">
                            <div class="form-check-inline">
                                <input class="form-check-input" type="checkbox" name="deleteImages[]"value="<%=campground.images[i].filename%>" id="flexCheckDefault">
                                <label class="form-check-label" for="flexCheckDefault">Delete?</label>
                            </div>     
                        <% } %>
                    </div>
                
                    <div class="d-grid mb-3 col-4 mx-auto">  
                        <button type="submit" class="btn btn-info btn-lg ">Save</button>
                    </div>  
                    
                    <footer>
                        <a href="/campgrounds/<%=campground._id%>">Cancel</a>
                    </footer>    
                </form>
            </div>                               
        </div>
    </div>
</div>

 
